---
description: Pay for APIs programmatically with your agent wallet
---

# Quickstart for Agent Buyers

Integrate crypto payments into your AI agent to pay for APIs and services autonomously.

## Installation

```bash
bun add @armory/client-viem
```

## Basic Payment

```typescript
import { armoryPay } from '@armory/client-viem';
import { privateKeyToAccount } from 'viem/accounts';

const account = privateKeyToAccount('0x...');

// Pay for an API call
const result = await armoryPay(
  { account },
  'https://api.example.com/data',
  'base',
  'usdc'
);

if (result.success) {
  console.log(result.data); // API response
  console.log(result.txHash); // Settlement tx
} else {
  console.error(result.code, result.message);
}
```

## With Custom Amount

```typescript
const result = await armoryPay(
  { account },
  'https://api.example.com/premium',
  'base',
  'usdc',
  { amount: '5.0' } // Pay 5 USDC
);
```

## How It Works

1. Your agent creates an EIP-3009 authorization
2. Sends request with `PAYMENT-SIGNATURE` header
3. Server verifies and settles on-chain
4. Your agent receives the API response

## Supported Input Formats

```typescript
// Network - all of these work:
'base'      // by name
8453        // by chain ID
'eip155:8453' // by CAIP-2

// Token - all of these work:
'usdc'      // by symbol
'0x8335...' // by address
'eip155:8453/erc20:0x8335...' // by CAIP asset ID
```

## Next Steps

- [Examples](/examples/) - Complete working examples
- [Core Package](/packages/core) - Protocol types and utilities
