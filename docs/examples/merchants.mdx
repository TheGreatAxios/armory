---
description: Merchant integration examples
---

# Merchant Examples

## Basic Merchant Setup

```typescript
import { createMerchant } from '@armory/facilitator';

const merchant = createMerchant({
  address: '0x...',
  paymentTokens: ['USDC', 'USDT', 'DAI']
});

await merchant.start();

console.log('Merchant accepting payments at:', merchant.address);
```

## Express Integration

```typescript
import express from 'express';
import { createMerchant } from '@armory/facilitator';

const app = express();
const merchant = createMerchant({
  address: '0x...',
  paymentTokens: ['USDC']
});

await merchant.start();

// Payment verification endpoint
app.post('/verify-payment', async (req, res) => {
  const { hash } = req.body;
  const result = await merchant.verifyPayment(hash);
  res.json(result);
});

app.listen(3000);
```

## With Middleware

```typescript
import { createMerchant } from '@armory/facilitator';
import { rateLimit, paymentLogger } from '@armory/middleware';

const merchant = createMerchant({
  address: '0x...',
  paymentTokens: ['USDC'],
  middleware: [
    rateLimit({ maxPayments: 100, window: 60000 }),
    paymentLogger({ level: 'info' })
  ]
});

await merchant.start();
```

## Settlement

```typescript
// Auto-settle payments
merchant.on('payment', async (payment) => {
  await merchant.settle({
    paymentHash: payment.hash,
    recipient: '0x...'
  });
});
```
