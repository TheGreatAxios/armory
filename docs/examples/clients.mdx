---
description: Client integration examples
---

# Client Examples

## Viem Client

```typescript
import { createArmoryClient } from '@armory/client-viem';
import { createWalletClient, createPublicClient, http } from 'viem';
import { privateKeyToAccount } from 'viem/accounts';
import { sepolia } from 'viem/chains';

const account = privateKeyToAccount(process.env.PRIVATE_KEY);
const publicClient = createPublicClient({
  chain: sepolia,
  transport: http()
});
const walletClient = createWalletClient({
  account,
  chain: sepolia,
  transport: http()
});

const armory = createArmoryClient({ publicClient, walletClient });

// Simple payment
const result = await armory.pay({
  to: '0x...',
  amount: 1000000000000000000n,
  token: 'USDC'
});

console.log('Payment sent:', result.hash);
```

## Paying with Authorization (Gasless)

```typescript
// Use EIP-3009 authorization for gasless payments
const result = await armory.payWithAuthorization({
  to: '0x...',
  amount: 1000000000n,
  token: 'USDC',
  facilitator: '0x...' // Facilitator pays the gas
});
```

## Ethers.js Client

```typescript
import { createArmoryClient } from '@armory/client-ethers';
import { ethers } from 'ethers';

const provider = new ethers.JsonRpcProvider('https://...');
const signer = await ethers.getWallet(process.env.PRIVATE_KEY, provider);

const armory = createArmoryClient({ provider, signer });

const result = await armory.pay({
  to: '0x...',
  amount: '1000000000000000000',
  token: 'USDC'
});
```

## Web3.js Client

```typescript
import { createArmoryClient } from '@armory/client-web3';
import { Web3 } from 'web3';

const web3 = new Web3('https://...');
const account = web3.eth.accounts.wallet.add(process.env.PRIVATE_KEY)[0];

const armory = createArmoryClient({ web3, account });

const result = await armory.pay({
  to: '0x...',
  amount: '1000000000000000000',
  token: 'USDC'
});
```

## Custom Token Payment

```typescript
// Use a custom ERC20 token
const result = await armory.pay({
  to: '0x...',
  amount: 1000000000000000000n,
  token: {
    address: '0x...',
    decimals: 18,
    symbol: 'MYTOKEN'
  }
});
```
